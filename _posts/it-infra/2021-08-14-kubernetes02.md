---
title: "[Infra] 쿠버네티스(kubernetes)(2) 쿠버네티스 설치(Kubernetes install)" 
categories:
  - it-infra
tags:
  - it-infra
use_math: true
toc: true
toc_label: "My Table of Contents"
toc_icon: "cog"
sidebar:
  title: "AI Machine Learning"
  nav: sidebar-contents
---

# 쿠버네티스(kubernetes)(2) 쿠버네티스 설치(Kubernetes install)


**참고 링크**

* [(0)도커의 개념](https://losskatsu.github.io/it-infra/docker00/)  
* [(1)도커 설치하기, hello world!](https://losskatsu.github.io/it-infra/docker01/)  
* [(2)도커 컨테이너 조작 기초(pull, run, ps)](https://losskatsu.github.io/it-infra/docker02/)  
* [(3)도커 이미지 변경 후 저장(commit)](https://losskatsu.github.io/it-infra/docker03/)  
* [(4)도커 컨테이너 네트워크](https://losskatsu.github.io/it-infra/docker04/)  
* [(1)쿠버네티스 구조](https://losskatsu.github.io/it-infra/kubernetes01/)  
* [(2)쿠버네티스 설치](https://losskatsu.github.io/it-infra/kubernetes02/)


## 0. 인트로 

이번 포스팅에서는 쿠버네티스를 설치해 보도록 하겠습니다. 
쿠버네티스 설치는 꽤 어렵습니다. 
하지만 차근차근 한 스텝씩 나가도록 합시다. 
제 환경은 전체 서버 세 대 입니다. 
한 대의 마스터노드, 두 대의 워커노드로 구성된 쿠버네티스 클러스터를 구축해보도록 하겠습니다. 

## 1단계. swap disable

쿠버네티스 첫 단계로 swap 기능을 꺼야합니다. 
이 때, 스왑(swap)이란 물리 메모리(RAM)의 용량이 부족할 때 하드 디스크의 일부 공간을 메모리 처럼 사용하는 것입니다. 
쿠버네티스를 설치하기 위해서는 바로 이 스왑 기능을 꺼야합니다. 

### 1-1. 스왑 가동 중인지 확인하기 

먼저 마스터노드에 접속하고 스왑이 가동중인지 알아봅니다. 

```bash
(마스터노드)$ free -h
              total        used        free      shared  buff/cache   available
Mem:          125Gi       1.0Gi       120Gi       4.0Mi       4.7Gi       123Gi
Swap:         8.0Gi          0B       8.0Gi
```

위 코드 처럼 'free -h'를 입력하면 스왑 영역 8G가 가동중인것을 알 수 있습니다. 
스왑이 가동중인지 확인하는 방법은 아래와 같은 방법을 사용해도 됩니다. 

```bash
(마스터노드)$ cat /proc/swaps
Filename                                Type            Size    Used    Priority
/dev/dm-6                               partition       8388604 0       -2
```

스왑이 가동하는지 확인하는 또 한가지 방법은 위 코드처럼 'cat /proc/swaps'를 입력해서 스왑 영역을 확인하는 것입니다. 




## 2단계. hostname, dns 설정 


## 3단계. docker, kubernetes 설치
