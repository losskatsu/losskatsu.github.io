---
title: "하루만에 홈페이지 만들기 feat astro" 
categories:
  - frontend
tags:
  - frontend
use_math: true
toc: true
toc_label: "My Table of Contents"
toc_icon: "cog"
sidebar:
  title: "AI Machine Learning"
  nav: sidebar-contents
---

# 하루만에 홈페이지 만들기 feat astro


법인 설립도 했으니 그 동안 미뤄왔던 회사 홈페이지를 만들기로 했다. 
사살 이런 일들은 귀찮기도 하고 당장 급한 일도 아니라서 미루게 되는데, 
불현듯 갑자기 어느날, 무언가 홀린 사람처럼 홈페이지를 만들고 싶어졌다. 
지금까지 미루고 미루던 어느날처럼 프론트엔드 디자인을 구경하다가, 
불현듯 머리속에서 내가 만들고 싶은 홈페이지 형태가 그려졌다. 
마치 스파크가 튀듯 말이다. 
그리고 그 순간부터 순식간에 몰입해서 만들게 되었는데, 
정말 그 몰입의 순간 만큼은 우주에 나와 노트북 한대만 마주한듯 했다. 
그만큼 몰입의 과정은 즐겁다. 
그렇게 해서 만든 회사 홈페이지 주소는 다음과 같다. 

[https://www.madohakja.com](https://www.madohakja.com)

그리고 나는 이 과정을 기록해두려고 한다. 
나처럼 홈페이지 만들기를 미루고 계신 분들께 조금이라도 도움이 되길 바라며...

<center><img src="/assets/images/frontend/onedayhomepage/devflow01.png" width="800"></center>

우선 개발 과정의 전체 큰 흐름은 위 그림과 같다. 시작은 로컬에서 개발을 하고  
github에 push하면 github과 연동되어 있는 CloudFlare에서 코드 변화를 감지하고 
빌드를 진행한 후에 최종적으로 홈페이지가 배포되는 방식이다. 
물론 처음부터 이런 구조를 생각하고 개발한 것은 아니었고, 
한 단계씩 거치면서 적절한 다음 단계를 찾는 방식으로 진행했다. 
자연스럽게 이 글은 선택 괒어에 대해서도 이야기할 예정이다. 

<center><img src="/assets/images/frontend/onedayhomepage/devflow02.png" width="800"></center>

우선 홈페이지에 어떤 내용을 담고 싶은지 간략한 화면기회을 했다. 
내가 어떤 페이지들을 만들고 싶은지 구도 및 버튼 디자인과 아이템 배치 등을 구상하는 과정이다. 
그럼 이 기획 페이지는 무엇으로 만들까. 여러 후보중에 피그마를 생각했는데, 
사실 피그마는 안쓴지 좀 오래되서 어색한 느낌이 들었다. 익숙해지는데 시간이 좀 걸릴 것 같지만 
피그마로 디자인하면 코드변환도 되니까 좋지 않을까 싶었지만 이런 방향으로가면 개발기간이 
너무 길어질 것만 같았다. 
이번 프로젝트에서는 피그마 공부가 목적이 아닌 최대한 빠르게 홈페이지 만드는게 목적이니까 
가장 빨리 내가 원하는 페이지를 디자인 할 수 있는 파워포인트로 기획 페이지를 만들기로 했다.

화면 기획을 하는 단계에서 가장 먼저 생각한 것은 내가 넣고자하는 페이지를 정하는 것과 
그에 따른 상단 메뉴를 어떻게 구성하는지 결정하는 것이다. 
내가 넣고자 하는 페이지가 많으면 많을수록 홈페이지 구조가 달라지게 되는데 
내가 넣고자 하는 페이지를 모두 고려한 결과 대메뉴와 소메뉴로 구분된 상단 메뉴로 만들어야겠다는 생각이 들었다. 
메뉴 구성후에는 각 메뉴에 해당하는 페이지를 어떻게 구성할 것이지를 생각했다. 
물론 이 단계에서 정하는 내용은 나중에 달라질 가능성이 매우 크므로 지나치게 상세하게 하는 것보다는 
크게 윤곽을 잡는다는 느낌으로 접근하는 것이 좋겠다. 
물론 처음부터 완벽하게 디자인하면 구현할 때 고민이 적어지니까 장단점이 있는 것 같다.

<center><img src="/assets/images/frontend/onedayhomepage/devflow03.png" width="800"></center>

화면 기획이 끝났으면 다음 단계는 어떤 플랫폼을 사용할지 고민해야한다. 
후보는 세가지. 지킬, 휴고, 아스트로. 먼저 언급된 툴일수록 빠르게 개발 가능하며 
코드없이도 개발가능하다. 
그리고 뒤로 갈수록 개발 기간이 난이도는 더 높아진다. 
가장 처음에 생각한 것은 지킬이다. 내 기술블로그를 지킬을 활용해서 만들었으므로  
이미 만들어본 경험도 있고, 내가 만들 홈페이지는 정적페이지 보여주는 것만으로 충분하니까 
지킬을 사용하면 금방되겠거니 했다. 
게다가 지킬을 사용하면 빌드와 배포를 깃헙에서 알아서 해주는 장점이 있어서 공수도 크게 줄어든다.

그렇게 지킬로 개발하기로 결정하고 이것저것 살펴보는데 
기술블로그 만든지도 어느새 5년이 넘어가니 내가 못본 사이에 테마가 더 다양해졌다. 
너무 오랜만이라 연습할겸 배포 한 번 해보고 싶어서 
적당한 테마를 고르고 clone 한후 내 repo에 push를 했는데....build fail이 뜬 것이다. 
github에 깃블로그를 push 하면 깃헙액션으로 빌드를 하게 되는데 이 깃헙액션이 문제였다. 
깃헙액션은 우리에게 빌드를 자동으로 해준다고 말하지만 우리는 이미 알고있다. 
자동으로 해준다는 말 이면에는 자동으로 해결되지 않을때 우리가 할 수 있는 일이 
크게 줄어든 다는 것을 말이다. 
고생하기 싫어서 지킬 템플릿 쓰는건데 깃헙 액션이랑 힘싸울 할 생각에 벌써 지쳐 
지킬은 이만 보내주기로했다. 그래. 새롭게 시작하는 만큼 새로운 툴 써봐야지.

그래 이 참에 휴고를 써보자. 
휴고는 지킬보다는 공수가 조금 더 들어가지만 휴고 정도만해도 할만하다. 
이정도면 내가 다른 일하면서도 홈페이지 관리가 가능할 것 같다는 생각이 들었다. 
그런데 휴고의 문제점이 뭐였냐면 휴고 템플릿 중에 내가 원하는 스타일이 없었다는 점이다. 
내가 원하는 디자인은 화면 상단에 가로 방향으로 메뉴가 있고, 
대메뉴를 클릭하면 소메뉴가 나오는 식이어야했다. 그런데 그런 템플릿이 적기도했고, 
무엇보다 다지인이 너무 별로였다. 
홈페이지는 회사의 얼굴이자 첫인상인데 만약 이렇게 만든다면 첫 인상이 너무 안좋을 것 같았다. 
그래서 휴고도 아쉽게도 패스...

<center><img src="/assets/images/frontend/onedayhomepage/devflow04.png" width="800"></center>

남은건 아스트로. 
코딩만큼은 공수가 많이들어 피하고 싶었지만 어쩔 수 없었다. 
개발자니까 개발해야지라는 마음으로 아스트로 템플릿을 보는데 
방금 휴고 템플릿을 보고 와서 그런지 너무 예쁘게 느껴졌다. 
그래, 이정도는 되야지라는 생각과 함께 오랜만에 개발욕구가 샘솟았다. 
마침 내가 원하는 화면구성이 있어서 템플릿을 받고 vscode를 실행하고 코드를 짜기 시작했다.

<center><img src="/assets/images/frontend/onedayhomepage/devflow05.png" width="800"></center>

참고로 아스트로(Astro) 는 자바스크립트 기반의 정적 웹사이트 개발을 위한 프론트엔드 프레임워크이다. 
아스트로 자체는 자바스크립트 및 타입스크립트로 개발되었고 
아스트로 컴포넌트(.astro) 내부에서도 자바스트립트 및 타입스크립트를 사용할 수 있다. 
또한 아스트로는 정적 사이트 생성을 목표로 하므로 HTML과 CSS 중심으로 작동하며, 
아스트로 파일 내부에서는 일반적인 HTML과 유사한 구조를 사용해 친숙하게 다가갈수있다. 
게다가 React, Vue, Svelte 등과 같은 다양한 프레임워크와 함께 사용할 수 있다는 장점이 있다.

<center><img src="/assets/images/frontend/onedayhomepage/devflow06.png" width="800"></center>

그렇게 마음에 다는 디자인을 선정하고 git에서 clone을 했다. 
그 다음부터 본격적인 개발에 돌입했는데, 먼저 홈화면을 만들고, 
상단 메뉴를 구성하고 각 메뉴별로 화면을 만들기시작했다. 
우선은 내용물을 채워넣고 디자인을 했다. 
이 과정에서 로컬에서 디자인을 계속 수정하게되는데 npm run dev 명령어로 확인할수있다. 
프론트엔드는 확실히 결과물을 눈으로 바로바로 확인할 수 있어서 백엔드와는 또다른 재미가 있다. 

<center><img src="/assets/images/frontend/onedayhomepage/devflow07.png" width="800"></center>

화면 개발이 마무리될때쯤 배포를 어디다가 할지 정하고 도메인을 어디서 살지 고민했다. 
netlify를 비롯한 여러가지 후보를 두고 생각하다가 최종적으로는 cloudflare를 선택했다. 
도메인구매와 소스코드 빌드와 배포를 모두 할수있다는 장점이 마음에 들었다. 
cloudflare와 내 깃헙 레포지토리를 연동하면 알아서 cloudflare가 배포하는 방식이다. 
이제 배포방식도 정해졌으니 화면개발을 마무리 지었다. 그리고 로컬에서 빌드도 해보았다. 
로컬에서 테스트를 마치고 github에 push를 했다.

<center><img src="/assets/images/frontend/onedayhomepage/devflow08.png" width="800"></center>

그리고나서 cloudflare에서 빌드잘되는지 확인하는데, 
역시 로컬에서의 빌드와 클라우드에서의 빌드는 달랐다. 
여기서도 삽질을 통해 코드를 조금 수정한 끝에 무사히 배포를 할 수 있었다.  
참고로 Cloudflare에서는 SSR(Server-Side Rendering)과 Static(정적 사이트 생성) 두 가지 방식의 배포를 모두 지원한다. 

Static 방식은 빌드 시점에 HTML 파일을 미리 생성해서 배포하는 방식이고, 
변경이 자주 없는 콘텐츠를 다룰때 많이 사용하는 방식이다. 
이 방식은 유저가 페이지를 요청하면 이미 만들어져있는 정적 HTML, CSS, JS 파일로 
바로 응답하는 형태이다. 
이 방식은 응답 속도가 빠르다는 장점이 있으나 페이지 변경시 다시 빌드하고 배포해야한다는 특징이 있다. 
사용 방법은 astro.config.mjs 파일에서 output: "static" 으로 작성하면 사용가능하다. 

SSR(Server-Side Rendering)  방식은 사용자의 요청이 들어올때마다 
서버에서 HTML을 실시간을 생성하는 방식이다. 
빌드 시간은 짧지만 요청마다 서버 실행이 필요해서 속도는 다소 느릴 수 있다. 
사용방법은  astro.config.mjs 파일에서 output: server 으로 작성하면 사용가능하다. 
이 방법은 주로 대시보드나 사용자 로그인 정보 표시가 필요한 사이트에서 사용된다. 

나는 정적 페이지만 있으면 충분하니까 static 방식을 선택했다. 

<center><img src="/assets/images/frontend/onedayhomepage/devflow09.png" width="800"></center>

이렇게 배포를 한 홈페이지를 보는데, 드디어 집의 대문이 생긴 것 같은 느낌이 들었다. 
물론 지금까지 내가 소중하게 운영하던 기술블로그도 있지만 홈페이지는 또 달랐다. 

<center><img src="/assets/images/frontend/onedayhomepage/devflow10.png" width="800"></center>

그렇게 배포를 하고나니 주변사람들에게 홍보를 한 후에야 여러가지 수정사항들이 보였다. 
배포를 하자마자 바로 패치를 하게 되었는데, 이때 주변 지인들의 제보가 큰 도움이 되었다. 
역시 혼자 운영하면 주변에서 말해주지 않으면 내가 발견 못하는 부분들이 있는 것 같다. 

<center><img src="/assets/images/frontend/onedayhomepage/devflow11.png" width="800"></center>

분명히 배포하기 전에는 보이지 않았던 아쉬운 부분이 배포를 하고 나서야 보이는건 어쩔수 없는것 같다. 
덕분에 배포 이후에도 수정을 여러번 거쳐서 현재의 홈페이지가 완성되었다. 

<center><img src="/assets/images/frontend/onedayhomepage/devflow12.png" width="800"></center>

그리고나서 검색엔진최적화(SEO, search engine optimization) 설정 및 구글 애널리틱스 연결까지 하고 마무리를 지었다.

​이렇게 나의 홈페이지 만들기 끝! 다음은 완성본

[https://www.madohakja.com](https://www.madohakja.com)
